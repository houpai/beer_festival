<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/verifyResultDetail.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_1805932_ysrcp4y0uy9.css">
    <link rel="stylesheet" href="../iconfont/iconfont.css">
    <script src="../js/fontsize.js"></script>
    <script src="../js/jquery-1.8.3.min.js"></script>
    <script src="../js/clipic.js"></script>
</head>
<body>
<div class="verifyResultDetail_container">
    <div class="result_box">
        <div class="result_box_container">
            <div class="result_message_box">
                <p class="result_title no_pass">审核未通过</p>
                <p class="result_sub_title">失败原因：照片不合格！</p>
                <p class="time">申请时间：2020.09.09 10:10</p>
            </div>
            <img src="../images/pass.png" alt="" class="result_img">
        </div>
    </div>

    <h4 class="update_title">修改信息</h4>
    <!--    此处回显input 设置只读即可，图片回显详情见字符串 样式已写好，需要注意不再需要垃圾桶样式的删除图片按钮-->
    <div class="form_box upload-content">
        <p class="label_title">
            真实姓名
        </p>
        <input type="text"/>
        <p class="label_title">
            身份证号
        </p>
        <input type="text"/>
        <p class="label_title">
            本人照片
        </p>
        <div class="upload_box content-img">
            <div class="file">
                <i class="gcl gcladd"></i>
                <input type="file" name="file" id="upload" class="upload-img" accept="image/*" onchange="chooseImg(this)" />
                <img src="" alt="" id="previewImg" class="content-img-list-item hide">
            </div>
            <p class="upload_desc">
                请上传公民本人正面免冠彩色头像，头部占照片尺寸的2/3，无边框，人像清晰，无变形。本照片将用于“志愿者证”的正面，请认真上传。
            </p>
        </div>
    </div>

    <!--    回显没有按钮 加上hide class 即可-->
    <!--    <div class="submit_btn hide">-->
    <!--      提交-->
    <!--    </div>-->
    <div class="submit_btn">
        提交
    </div>

</div>
</body>

<script>



    var clipic = new Clipic()
    function chooseImg(event) {
        var files = event.files || event.dataTransfer.files
        var reader = new FileReader()
        reader.readAsDataURL(files[0])
        reader.onload = e => {
            clipic.getImage({
                width: 88,
                height: 88,
                src: e.target.result,
                name: 'test',
                encode: 'base64', // 支持 base64、blob、file
                type: 'png',
                // quality: '0.9', // 导出图片的质量
                onDone: function (e) {
                    document.getElementById('previewImg').src = e
                    $('.content-img .content-img-list-item').removeClass('hide');
                    $('.gcladd').hide();
                    console.log('e======', e)

                },
                onCancel: function () {
                    console.log('取消裁剪')
                }
            })
        }
        event.value = ''
    }

</script>
</html>
